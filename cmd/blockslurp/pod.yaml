apiVersion: v1
kind: Pod
metadata:
  labels:
    app: jpe-test
  name: jpe-test
spec:
  containers:
  - args:
    # - -uuid=6926c0bd-faa4-46ab-b8df-7c7d3572d229 # zstd 23s
    - -slurp-buffer=10000000
    - -chunk=107374182
    - -mem-ballast-size-mbs=1024
    - -parse=false
    - -uuid=4fe45f13-a189-4cee-b905-431937fe7dba # lz4-im 31s
    # - -uuid=812d0426-e4b3-4f3e-9bc1-e74e82b6ba24 # s2 24s
    env:
    - name: GOOGLE_APPLICATION_CREDENTIALS
      value: /var/secrets/google/credentials.json
    image: joeelliott/canary-frigg:0ece3377
    name: jpe-test
    resources:
      limits:
        memory: 16Gi
      requests:
        cpu: 1400m
        memory: 5Gi
    volumeMounts:
    - mountPath: /var/secrets/google/
      name: gcs-credentials
      readOnly: true
  volumes:
  - name: gcs-credentials
    secret:
      defaultMode: 420
      secretName: gcs-credentials


# 
# https://docs.google.com/spreadsheets/d/11HCHxxkIFWziwjprBtUAryiiMliYfyqzXhd_LKaaxr0/edit#gid=0