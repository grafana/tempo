<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (20251213.1925)
 -->
<!-- Title: TempoArchitecture Pages: 1 -->
<svg width="3090pt" height="1498pt"
 viewBox="0.00 0.00 3090.00 1498.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1493.62)">
<title>TempoArchitecture</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1493.62 3086,-1493.62 3086,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_clients</title>
<path fill="#fafafa" stroke="black" stroke-dasharray="5,2" d="M545,-1365.75C545,-1365.75 865,-1365.75 865,-1365.75 871,-1365.75 877,-1371.75 877,-1377.75 877,-1377.75 877,-1446.49 877,-1446.49 877,-1452.49 871,-1458.49 865,-1458.49 865,-1458.49 545,-1458.49 545,-1458.49 539,-1458.49 533,-1452.49 533,-1446.49 533,-1446.49 533,-1377.75 533,-1377.75 533,-1371.75 539,-1365.75 545,-1365.75"/>
<text xml:space="preserve" text-anchor="middle" x="705" y="-1441.19" font-family="Helvetica,sans-Serif" font-size="14.00">Client Applications</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_enterprise</title>
<path fill="#e8f5e9" stroke="black" d="M561,-1133.75C561,-1133.75 829,-1133.75 829,-1133.75 835,-1133.75 841,-1139.75 841,-1145.75 841,-1145.75 841,-1320.75 841,-1320.75 841,-1326.75 835,-1332.75 829,-1332.75 829,-1332.75 561,-1332.75 561,-1332.75 555,-1332.75 549,-1326.75 549,-1320.75 549,-1320.75 549,-1145.75 549,-1145.75 549,-1139.75 555,-1133.75 561,-1133.75"/>
<text xml:space="preserve" text-anchor="middle" x="695" y="-1315.45" font-family="Helvetica,sans-Serif" font-size="14.00">backend&#45;enterprise</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_adaptive</title>
<path fill="#e1f5fe" stroke="black" d="M20,-725.25C20,-725.25 912,-725.25 912,-725.25 918,-725.25 924,-731.25 924,-737.25 924,-737.25 924,-1088.75 924,-1088.75 924,-1094.75 918,-1100.75 912,-1100.75 912,-1100.75 20,-1100.75 20,-1100.75 14,-1100.75 8,-1094.75 8,-1088.75 8,-1088.75 8,-737.25 8,-737.25 8,-731.25 14,-725.25 20,-725.25"/>
<text xml:space="preserve" text-anchor="middle" x="466" y="-1083.45" font-family="Helvetica,sans-Serif" font-size="14.00">adaptive&#45;traces</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_tempo</title>
<path fill="#fff8e1" stroke="black" d="M944,-8C944,-8 3062,-8 3062,-8 3068,-8 3074,-14 3074,-20 3074,-20 3074,-1469.62 3074,-1469.62 3074,-1475.62 3068,-1481.62 3062,-1481.62 3062,-1481.62 944,-1481.62 944,-1481.62 938,-1481.62 932,-1475.62 932,-1469.62 932,-1469.62 932,-20 932,-20 932,-14 938,-8 944,-8"/>
<text xml:space="preserve" text-anchor="middle" x="2003" y="-1464.32" font-family="Helvetica,sans-Serif" font-size="14.00">Tempo (Rhythm Architecture)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_ingestion</title>
<path fill="#c8e6c9" stroke="black" d="M952,-673.75C952,-673.75 1220,-673.75 1220,-673.75 1226,-673.75 1232,-679.75 1232,-685.75 1232,-685.75 1232,-841.75 1232,-841.75 1232,-847.75 1226,-853.75 1220,-853.75 1220,-853.75 952,-853.75 952,-853.75 946,-853.75 940,-847.75 940,-841.75 940,-841.75 940,-685.75 940,-685.75 940,-679.75 946,-673.75 952,-673.75"/>
<text xml:space="preserve" text-anchor="middle" x="1086" y="-836.45" font-family="Helvetica,sans-Serif" font-size="14.00">Ingestion Layer</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_write</title>
<path fill="#fff3e0" stroke="black" d="M952,-284.75C952,-284.75 1220,-284.75 1220,-284.75 1226,-284.75 1232,-290.75 1232,-296.75 1232,-296.75 1232,-452.75 1232,-452.75 1232,-458.75 1226,-464.75 1220,-464.75 1220,-464.75 952,-464.75 952,-464.75 946,-464.75 940,-458.75 940,-452.75 940,-452.75 940,-296.75 940,-296.75 940,-290.75 946,-284.75 952,-284.75"/>
<text xml:space="preserve" text-anchor="middle" x="1086" y="-447.45" font-family="Helvetica,sans-Serif" font-size="14.00">Write Layer</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_read</title>
<path fill="#f3e5f5" stroke="black" d="M1252,-276.75C1252,-276.75 2118,-276.75 2118,-276.75 2124,-276.75 2130,-282.75 2130,-288.75 2130,-288.75 2130,-483.75 2130,-483.75 2130,-489.75 2124,-495.75 2118,-495.75 2118,-495.75 1252,-495.75 1252,-495.75 1246,-495.75 1240,-489.75 1240,-483.75 1240,-483.75 1240,-288.75 1240,-288.75 1240,-282.75 1246,-276.75 1252,-276.75"/>
<text xml:space="preserve" text-anchor="middle" x="1685" y="-478.45" font-family="Helvetica,sans-Serif" font-size="14.00">Read Layer</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_livestore</title>
<path fill="#e1bee7" stroke="black" d="M1547,-284.75C1547,-284.75 2110,-284.75 2110,-284.75 2116,-284.75 2122,-290.75 2122,-296.75 2122,-296.75 2122,-452.75 2122,-452.75 2122,-458.75 2116,-464.75 2110,-464.75 2110,-464.75 1547,-464.75 1547,-464.75 1541,-464.75 1535,-458.75 1535,-452.75 1535,-452.75 1535,-296.75 1535,-296.75 1535,-290.75 1541,-284.75 1547,-284.75"/>
<text xml:space="preserve" text-anchor="middle" x="1828.5" y="-447.45" font-family="Helvetica,sans-Serif" font-size="14.00">Live Store (2 zones)</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_query</title>
<path fill="#ede7f6" stroke="black" d="M1625,-514.75C1625,-514.75 1893,-514.75 1893,-514.75 1899,-514.75 1905,-520.75 1905,-526.75 1905,-526.75 1905,-841.75 1905,-841.75 1905,-847.75 1899,-853.75 1893,-853.75 1893,-853.75 1625,-853.75 1625,-853.75 1619,-853.75 1613,-847.75 1613,-841.75 1613,-841.75 1613,-526.75 1613,-526.75 1613,-520.75 1619,-514.75 1625,-514.75"/>
<text xml:space="preserve" text-anchor="middle" x="1759" y="-836.45" font-family="Helvetica,sans-Serif" font-size="14.00">Query Layer</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_storage</title>
<path fill="#eceff1" stroke="black" d="M2033,-16C2033,-16 2245,-16 2245,-16 2251,-16 2257,-22 2257,-28 2257,-28 2257,-247.75 2257,-247.75 2257,-253.75 2251,-259.75 2245,-259.75 2245,-259.75 2033,-259.75 2033,-259.75 2027,-259.75 2021,-253.75 2021,-247.75 2021,-247.75 2021,-28 2021,-28 2021,-22 2027,-16 2033,-16"/>
<text xml:space="preserve" text-anchor="middle" x="2139" y="-242.45" font-family="Helvetica,sans-Serif" font-size="14.00">Storage Layer</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_backend</title>
<path fill="#fff8e1" stroke="black" d="M2162,-284.75C2162,-284.75 3054,-284.75 3054,-284.75 3060,-284.75 3066,-290.75 3066,-296.75 3066,-296.75 3066,-452.75 3066,-452.75 3066,-458.75 3060,-464.75 3054,-464.75 3054,-464.75 2162,-464.75 2162,-464.75 2156,-464.75 2150,-458.75 2150,-452.75 2150,-452.75 2150,-296.75 2150,-296.75 2150,-290.75 2156,-284.75 2162,-284.75"/>
<text xml:space="preserve" text-anchor="middle" x="2608" y="-447.45" font-family="Helvetica,sans-Serif" font-size="14.00">Backend Work</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_coordination</title>
<path fill="#fafafa" stroke="black" d="M1925,-518C1925,-518 2137,-518 2137,-518 2143,-518 2149,-524 2149,-530 2149,-530 2149,-1438.62 2149,-1438.62 2149,-1444.62 2143,-1450.62 2137,-1450.62 2137,-1450.62 1925,-1450.62 1925,-1450.62 1919,-1450.62 1913,-1444.62 1913,-1438.62 1913,-1438.62 1913,-530 1913,-530 1913,-524 1919,-518 1925,-518"/>
<text xml:space="preserve" text-anchor="middle" x="2031" y="-1433.32" font-family="Helvetica,sans-Serif" font-size="14.00">Coordination</text>
</g>
<!-- app -->
<g id="node1" class="node">
<title>app</title>
<ellipse fill="#e3f2fd" stroke="black" cx="766" cy="-1400.62" rx="103.06" ry="26.87"/>
<text xml:space="preserve" text-anchor="middle" x="766" y="-1402.32" font-family="Helvetica,sans-Serif" font-size="14.00">Applications</text>
<text xml:space="preserve" text-anchor="middle" x="766" y="-1387.32" font-family="Helvetica,sans-Serif" font-size="14.00">(OTLP/Jaeger/Zipkin)</text>
</g>
<!-- gateway -->
<g id="node3" class="node">
<title>gateway</title>
<path fill="#a5d6a7" stroke="black" d="M821.25,-1301.75C821.25,-1301.75 568.75,-1301.75 568.75,-1301.75 562.75,-1301.75 556.75,-1295.75 556.75,-1289.75 556.75,-1289.75 556.75,-1153.75 556.75,-1153.75 556.75,-1147.75 562.75,-1141.75 568.75,-1141.75 568.75,-1141.75 821.25,-1141.75 821.25,-1141.75 827.25,-1141.75 833.25,-1147.75 833.25,-1153.75 833.25,-1153.75 833.25,-1289.75 833.25,-1289.75 833.25,-1295.75 827.25,-1301.75 821.25,-1301.75"/>
<text xml:space="preserve" text-anchor="start" x="615.5" y="-1283.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Cloud Backend Gateway</text>
<text xml:space="preserve" text-anchor="start" x="566.75" y="-1263.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="656.75" y="-1244.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Auth/AuthZ</text>
<text xml:space="preserve" text-anchor="start" x="650" y="-1225.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Multi&#45;tenancy</text>
<text xml:space="preserve" text-anchor="start" x="672.88" y="-1206.45" font-family="Helvetica,sans-Serif" font-size="14.00">• LBAC</text>
<text xml:space="preserve" text-anchor="start" x="662" y="-1187.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Licensing</text>
<text xml:space="preserve" text-anchor="start" x="566.75" y="-1168.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="657.5" y="-1149.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 3+</text>
</g>
<!-- app&#45;&gt;gateway -->
<g id="edge1" class="edge">
<title>app&#45;&gt;gateway</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M755.52,-1373.52C749.11,-1357.55 740.48,-1336.06 731.76,-1314.31"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="735.01,-1313.03 728.04,-1305.05 728.51,-1315.63 735.01,-1313.03"/>
<text xml:space="preserve" text-anchor="middle" x="785.21" y="-1342.45" font-family="Helvetica,sans-Serif" font-size="14.00">OTLP traces</text>
</g>
<!-- grafana -->
<g id="node2" class="node">
<title>grafana</title>
<ellipse fill="#e3f2fd" stroke="black" cx="593" cy="-1400.62" rx="51.62" ry="26.87"/>
<text xml:space="preserve" text-anchor="middle" x="593" y="-1402.32" font-family="Helvetica,sans-Serif" font-size="14.00">Grafana</text>
<text xml:space="preserve" text-anchor="middle" x="593" y="-1387.32" font-family="Helvetica,sans-Serif" font-size="14.00">(Queries)</text>
</g>
<!-- grafana&#45;&gt;gateway -->
<g id="edge16" class="edge">
<title>grafana&#45;&gt;gateway</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M607.4,-1374.65C616.84,-1358.29 629.81,-1335.79 642.88,-1313.12"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="645.81,-1315.04 647.78,-1304.63 639.75,-1311.55 645.81,-1315.04"/>
<text xml:space="preserve" text-anchor="middle" x="652.62" y="-1342.45" font-family="Helvetica,sans-Serif" font-size="14.00">TraceQL</text>
</g>
<!-- sampler_gw -->
<g id="node4" class="node">
<title>sampler_gw</title>
<path fill="#4fc3f7" stroke="black" d="M575.25,-1060.25C575.25,-1060.25 322.75,-1060.25 322.75,-1060.25 316.75,-1060.25 310.75,-1054.25 310.75,-1048.25 310.75,-1048.25 310.75,-931.25 310.75,-931.25 310.75,-925.25 316.75,-919.25 322.75,-919.25 322.75,-919.25 575.25,-919.25 575.25,-919.25 581.25,-919.25 587.25,-925.25 587.25,-931.25 587.25,-931.25 587.25,-1048.25 587.25,-1048.25 587.25,-1054.25 581.25,-1060.25 575.25,-1060.25"/>
<text xml:space="preserve" text-anchor="start" x="391.62" y="-1041.95" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Sampler Gateway</text>
<text xml:space="preserve" text-anchor="start" x="320.75" y="-1021.95" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="365" y="-1002.95" font-family="Helvetica,sans-Serif" font-size="14.00">• Head sampling (if policies)</text>
<text xml:space="preserve" text-anchor="start" x="360.88" y="-983.95" font-family="Helvetica,sans-Serif" font-size="14.00">• Pass&#45;through (if no policies)</text>
<text xml:space="preserve" text-anchor="start" x="407" y="-964.95" font-family="Helvetica,sans-Serif" font-size="14.00">• Rate limiting</text>
<text xml:space="preserve" text-anchor="start" x="320.75" y="-945.95" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="411.5" y="-926.95" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 3+</text>
</g>
<!-- gateway&#45;&gt;sampler_gw -->
<g id="edge2" class="edge">
<title>gateway&#45;&gt;sampler_gw</title>
<path fill="none" stroke="#1976d2" stroke-width="2" d="M610,-1141.27C585.12,-1118.02 557.95,-1092.61 533.13,-1069.4"/>
<polygon fill="#1976d2" stroke="#1976d2" stroke-width="2" points="535.64,-1066.97 525.95,-1062.69 530.86,-1072.08 535.64,-1066.97"/>
<text xml:space="preserve" text-anchor="middle" x="618.23" y="-1110.45" font-family="Helvetica,sans-Serif" font-size="14.00">All tenants</text>
</g>
<!-- query_frontend -->
<g id="node15" class="node">
<title>query_frontend</title>
<path fill="#b39ddb" stroke="black" d="M1885.25,-822.75C1885.25,-822.75 1632.75,-822.75 1632.75,-822.75 1626.75,-822.75 1620.75,-816.75 1620.75,-810.75 1620.75,-810.75 1620.75,-693.75 1620.75,-693.75 1620.75,-687.75 1626.75,-681.75 1632.75,-681.75 1632.75,-681.75 1885.25,-681.75 1885.25,-681.75 1891.25,-681.75 1897.25,-687.75 1897.25,-693.75 1897.25,-693.75 1897.25,-810.75 1897.25,-810.75 1897.25,-816.75 1891.25,-822.75 1885.25,-822.75"/>
<text xml:space="preserve" text-anchor="start" x="1708" y="-804.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Query Frontend</text>
<text xml:space="preserve" text-anchor="start" x="1630.75" y="-784.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1701.62" y="-765.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Request sharding</text>
<text xml:space="preserve" text-anchor="start" x="1729.75" y="-746.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Caching</text>
<text xml:space="preserve" text-anchor="start" x="1708.75" y="-727.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Load balancing</text>
<text xml:space="preserve" text-anchor="start" x="1630.75" y="-708.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1725.62" y="-689.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 2</text>
</g>
<!-- gateway&#45;&gt;query_frontend -->
<g id="edge17" class="edge">
<title>gateway&#45;&gt;query_frontend</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M833.55,-1159.87C1033.68,-1071.94 1402.23,-910.01 1608.71,-819.28"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="1610.03,-822.53 1617.78,-815.3 1607.22,-816.12 1610.03,-822.53"/>
</g>
<!-- kafka_at -->
<g id="node5" class="node">
<title>kafka_at</title>
<path fill="#81d4fa" stroke="black" d="M915.75,-1037C915.75,-1042.79 866.56,-1047.5 806,-1047.5 745.44,-1047.5 696.25,-1042.79 696.25,-1037 696.25,-1037 696.25,-942.5 696.25,-942.5 696.25,-936.71 745.44,-932 806,-932 866.56,-932 915.75,-936.71 915.75,-942.5 915.75,-942.5 915.75,-1037 915.75,-1037"/>
<path fill="none" stroke="black" d="M915.75,-1037C915.75,-1031.21 866.56,-1026.5 806,-1026.5 745.44,-1026.5 696.25,-1031.21 696.25,-1037"/>
<text xml:space="preserve" text-anchor="start" x="787.62" y="-1013.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Kafka</text>
<text xml:space="preserve" text-anchor="start" x="752.75" y="-993.45" font-family="Helvetica,sans-Serif" font-size="14.00">(Adaptive Traces)</text>
<text xml:space="preserve" text-anchor="start" x="706.25" y="-974.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="769.25" y="-955.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Partitions: N</text>
</g>
<!-- sampler_gw&#45;&gt;kafka_at -->
<g id="edge3" class="edge">
<title>sampler_gw&#45;&gt;kafka_at</title>
<path fill="none" stroke="#0288d1" stroke-width="2" d="M587.54,-989.75C619.01,-989.75 652.22,-989.75 683,-989.75"/>
<polygon fill="#0288d1" stroke="#0288d1" stroke-width="2" points="683,-993.25 693,-989.75 683,-986.25 683,-993.25"/>
<text xml:space="preserve" text-anchor="middle" x="641.75" y="-1009.45" font-family="Helvetica,sans-Serif" font-size="14.00">WITH policies:</text>
<text xml:space="preserve" text-anchor="middle" x="641.75" y="-994.45" font-family="Helvetica,sans-Serif" font-size="14.00">Head sampling</text>
</g>
<!-- distributor -->
<g id="node9" class="node">
<title>distributor</title>
<path fill="#81c784" stroke="black" d="M1212.25,-822.75C1212.25,-822.75 959.75,-822.75 959.75,-822.75 953.75,-822.75 947.75,-816.75 947.75,-810.75 947.75,-810.75 947.75,-693.75 947.75,-693.75 947.75,-687.75 953.75,-681.75 959.75,-681.75 959.75,-681.75 1212.25,-681.75 1212.25,-681.75 1218.25,-681.75 1224.25,-687.75 1224.25,-693.75 1224.25,-693.75 1224.25,-810.75 1224.25,-810.75 1224.25,-816.75 1218.25,-822.75 1212.25,-822.75"/>
<text xml:space="preserve" text-anchor="start" x="1051.5" y="-804.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Distributor</text>
<text xml:space="preserve" text-anchor="start" x="957.75" y="-784.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1051.88" y="-765.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Validation</text>
<text xml:space="preserve" text-anchor="start" x="1044" y="-746.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Rate limiting</text>
<text xml:space="preserve" text-anchor="start" x="1031.62" y="-727.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Routing to Kafka</text>
<text xml:space="preserve" text-anchor="start" x="957.75" y="-708.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1052.62" y="-689.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 5</text>
</g>
<!-- sampler_gw&#45;&gt;distributor -->
<g id="edge8" class="edge">
<title>sampler_gw&#45;&gt;distributor</title>
<path fill="none" stroke="#757575" stroke-width="2" stroke-dasharray="5,2" d="M587.71,-940.32C620.12,-929.67 654.63,-918.86 687,-909.75 792.85,-879.95 826.61,-896.31 928,-853.75 944.2,-846.95 960.59,-838.55 976.39,-829.51"/>
<polygon fill="#757575" stroke="#757575" stroke-width="2" points="977.74,-832.78 984.6,-824.7 974.2,-826.74 977.74,-832.78"/>
<text xml:space="preserve" text-anchor="middle" x="963.39" y="-878.45" font-family="Helvetica,sans-Serif" font-size="14.00">WITHOUT policies:</text>
<text xml:space="preserve" text-anchor="middle" x="963.39" y="-863.45" font-family="Helvetica,sans-Serif" font-size="14.00">Pass&#45;through proxy</text>
</g>
<!-- sampler -->
<g id="node6" class="node">
<title>sampler</title>
<path fill="#4fc3f7" stroke="black" d="M280.25,-1069.75C280.25,-1069.75 27.75,-1069.75 27.75,-1069.75 21.75,-1069.75 15.75,-1063.75 15.75,-1057.75 15.75,-1057.75 15.75,-921.75 15.75,-921.75 15.75,-915.75 21.75,-909.75 27.75,-909.75 27.75,-909.75 280.25,-909.75 280.25,-909.75 286.25,-909.75 292.25,-915.75 292.25,-921.75 292.25,-921.75 292.25,-1057.75 292.25,-1057.75 292.25,-1063.75 286.25,-1069.75 280.25,-1069.75"/>
<text xml:space="preserve" text-anchor="start" x="127" y="-1051.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Sampler</text>
<text xml:space="preserve" text-anchor="start" x="25.75" y="-1031.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="110.12" y="-1012.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Tail sampling</text>
<text xml:space="preserve" text-anchor="start" x="93.62" y="-993.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Anomaly detection</text>
<text xml:space="preserve" text-anchor="start" x="94.38" y="-974.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Diversity sampling</text>
<text xml:space="preserve" text-anchor="start" x="80.88" y="-955.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Policy&#45;based decisions</text>
<text xml:space="preserve" text-anchor="start" x="25.75" y="-936.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="116.5" y="-917.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 3+</text>
</g>
<!-- kafka_at&#45;&gt;sampler -->
<g id="edge4" class="edge">
<title>kafka_at&#45;&gt;sampler</title>
<path fill="none" stroke="#0288d1" stroke-width="2" d="M731.4,-1046.48C690.99,-1073.65 638.82,-1103.26 587,-1117.25 527.79,-1133.23 368.8,-1137.76 311,-1117.25 286.4,-1108.52 262.85,-1094.11 241.81,-1078.05"/>
<polygon fill="#0288d1" stroke="#0288d1" stroke-width="2" points="244.09,-1075.39 234.07,-1071.93 239.75,-1080.88 244.09,-1075.39"/>
</g>
<!-- policy_store -->
<g id="node7" class="node">
<title>policy_store</title>
<path fill="#b3e5fc" stroke="black" d="M171.38,-771.25C171.38,-771.25 58.62,-771.25 58.62,-771.25 52.62,-771.25 46.62,-765.25 46.62,-759.25 46.62,-759.25 46.62,-745.25 46.62,-745.25 46.62,-739.25 52.62,-733.25 58.62,-733.25 58.62,-733.25 171.38,-733.25 171.38,-733.25 177.38,-733.25 183.38,-739.25 183.38,-745.25 183.38,-745.25 183.38,-759.25 183.38,-759.25 183.38,-765.25 177.38,-771.25 171.38,-771.25"/>
<text xml:space="preserve" text-anchor="middle" x="115" y="-753.95" font-family="Helvetica,sans-Serif" font-size="14.00">Policy Store</text>
<text xml:space="preserve" text-anchor="middle" x="115" y="-738.95" font-family="Helvetica,sans-Serif" font-size="14.00">(Per&#45;tenant policies)</text>
</g>
<!-- sampler&#45;&gt;policy_store -->
<g id="edge5" class="edge">
<title>sampler&#45;&gt;policy_store</title>
<path fill="none" stroke="#0288d1" d="M139.01,-898.26C132.25,-857.43 124.72,-811.97 119.93,-783.02"/>
<polygon fill="#0288d1" stroke="#0288d1" points="135.52,-898.56 140.6,-907.86 142.42,-897.42 135.52,-898.56"/>
<polygon fill="#0288d1" stroke="#0288d1" points="123.39,-782.47 118.3,-773.18 116.48,-783.62 123.39,-782.47"/>
</g>
<!-- decision_idx -->
<g id="node8" class="node">
<title>decision_idx</title>
<path fill="#b3e5fc" stroke="black" d="M298.5,-771.25C298.5,-771.25 213.5,-771.25 213.5,-771.25 207.5,-771.25 201.5,-765.25 201.5,-759.25 201.5,-759.25 201.5,-745.25 201.5,-745.25 201.5,-739.25 207.5,-733.25 213.5,-733.25 213.5,-733.25 298.5,-733.25 298.5,-733.25 304.5,-733.25 310.5,-739.25 310.5,-745.25 310.5,-745.25 310.5,-759.25 310.5,-759.25 310.5,-765.25 304.5,-771.25 298.5,-771.25"/>
<text xml:space="preserve" text-anchor="middle" x="256" y="-753.95" font-family="Helvetica,sans-Serif" font-size="14.00">Decision Index</text>
<text xml:space="preserve" text-anchor="middle" x="256" y="-738.95" font-family="Helvetica,sans-Serif" font-size="14.00">(Keep/drop log)</text>
</g>
<!-- sampler&#45;&gt;decision_idx -->
<g id="edge6" class="edge">
<title>sampler&#45;&gt;decision_idx</title>
<path fill="none" stroke="#0288d1" d="M192.94,-898.85C210.92,-857.34 231.01,-810.94 243.59,-781.91"/>
<polygon fill="#0288d1" stroke="#0288d1" points="189.75,-897.39 188.99,-907.96 196.18,-900.17 189.75,-897.39"/>
<polygon fill="#0288d1" stroke="#0288d1" points="246.65,-783.64 247.41,-773.08 240.23,-780.86 246.65,-783.64"/>
</g>
<!-- sampler&#45;&gt;distributor -->
<g id="edge7" class="edge">
<title>sampler&#45;&gt;distributor</title>
<path fill="none" stroke="#0288d1" stroke-width="2" d="M292.4,-913C295.61,-911.85 298.81,-910.77 302,-909.75 461.86,-858.74 509.23,-875.1 676.5,-861.75 704.37,-859.53 901.28,-861.99 928,-853.75 946.78,-847.96 965.5,-839.3 983.14,-829.45"/>
<polygon fill="#0288d1" stroke="#0288d1" stroke-width="2" points="984.46,-832.73 991.36,-824.69 980.95,-826.67 984.46,-832.73"/>
<text xml:space="preserve" text-anchor="middle" x="723.75" y="-870.95" font-family="Helvetica,sans-Serif" font-size="14.00">Sampled traces</text>
</g>
<!-- kafka_tempo -->
<g id="node10" class="node">
<title>kafka_tempo</title>
<path fill="#ffecb3" stroke="black" d="M1495.75,-631C1495.75,-636.79 1446.56,-641.5 1386,-641.5 1325.44,-641.5 1276.25,-636.79 1276.25,-631 1276.25,-631 1276.25,-536.5 1276.25,-536.5 1276.25,-530.71 1325.44,-526 1386,-526 1446.56,-526 1495.75,-530.71 1495.75,-536.5 1495.75,-536.5 1495.75,-631 1495.75,-631"/>
<path fill="none" stroke="black" d="M1495.75,-631C1495.75,-625.21 1446.56,-620.5 1386,-620.5 1325.44,-620.5 1276.25,-625.21 1276.25,-631"/>
<text xml:space="preserve" text-anchor="start" x="1367.62" y="-607.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Kafka</text>
<text xml:space="preserve" text-anchor="start" x="1340.62" y="-587.45" font-family="Helvetica,sans-Serif" font-size="14.00">(Tempo Ingest)</text>
<text xml:space="preserve" text-anchor="start" x="1286.25" y="-568.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1349.25" y="-549.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Partitions: N</text>
</g>
<!-- distributor&#45;&gt;kafka_tempo -->
<g id="edge9" class="edge">
<title>distributor&#45;&gt;kafka_tempo</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1211.92,-681.36C1233.81,-669.22 1256.39,-656.68 1277.75,-644.83"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="1279.44,-647.89 1286.49,-639.98 1276.05,-641.77 1279.44,-647.89"/>
</g>
<!-- block_builder -->
<g id="node11" class="node">
<title>block_builder</title>
<path fill="#ffe0b2" stroke="black" d="M1212.25,-433.75C1212.25,-433.75 959.75,-433.75 959.75,-433.75 953.75,-433.75 947.75,-427.75 947.75,-421.75 947.75,-421.75 947.75,-304.75 947.75,-304.75 947.75,-298.75 953.75,-292.75 959.75,-292.75 959.75,-292.75 1212.25,-292.75 1212.25,-292.75 1218.25,-292.75 1224.25,-298.75 1224.25,-304.75 1224.25,-304.75 1224.25,-421.75 1224.25,-421.75 1224.25,-427.75 1218.25,-433.75 1212.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="1042.5" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Block Builder</text>
<text xml:space="preserve" text-anchor="start" x="957.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1029.75" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Consumes Kafka</text>
<text xml:space="preserve" text-anchor="start" x="1036.88" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Creates blocks</text>
<text xml:space="preserve" text-anchor="start" x="957.75" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1051.5" y="-319.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: N</text>
<text xml:space="preserve" text-anchor="start" x="1026.38" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="gray">(matches partitions)</text>
</g>
<!-- kafka_tempo&#45;&gt;block_builder -->
<g id="edge10" class="edge">
<title>kafka_tempo&#45;&gt;block_builder</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1287.44,-529.27C1269.93,-518.73 1252.14,-507.34 1236,-495.75 1213.56,-479.64 1190.53,-460.79 1169.47,-442.49"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="1172.04,-440.09 1162.22,-436.13 1167.43,-445.35 1172.04,-440.09"/>
</g>
<!-- livestore_a -->
<g id="node12" class="node">
<title>livestore_a</title>
<path fill="#ce93d8" stroke="black" d="M2102.25,-433.75C2102.25,-433.75 1849.75,-433.75 1849.75,-433.75 1843.75,-433.75 1837.75,-427.75 1837.75,-421.75 1837.75,-421.75 1837.75,-304.75 1837.75,-304.75 1837.75,-298.75 1843.75,-292.75 1849.75,-292.75 1849.75,-292.75 2102.25,-292.75 2102.25,-292.75 2108.25,-292.75 2114.25,-298.75 2114.25,-304.75 2114.25,-304.75 2114.25,-421.75 2114.25,-421.75 2114.25,-427.75 2108.25,-433.75 2102.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="1918.25" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Live Store Zone&#45;A</text>
<text xml:space="preserve" text-anchor="start" x="1847.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1918.25" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Real&#45;time queries</text>
<text xml:space="preserve" text-anchor="start" x="1922.38" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Kafka consumer</text>
<text xml:space="preserve" text-anchor="start" x="1918.25" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">• In&#45;memory traces</text>
<text xml:space="preserve" text-anchor="start" x="1847.75" y="-319.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1941.5" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: N</text>
</g>
<!-- kafka_tempo&#45;&gt;livestore_a -->
<g id="edge11" class="edge">
<title>kafka_tempo&#45;&gt;livestore_a</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1496.01,-544.21C1531.66,-533.07 1571.65,-521.98 1609,-514.75 1704.92,-496.18 1738.26,-534.38 1828,-495.75 1856.45,-483.5 1883.22,-463.58 1905.95,-442.9"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="1908.32,-445.48 1913.23,-436.09 1903.54,-440.37 1908.32,-445.48"/>
</g>
<!-- livestore_b -->
<g id="node13" class="node">
<title>livestore_b</title>
<path fill="#ce93d8" stroke="black" d="M1807.25,-433.75C1807.25,-433.75 1554.75,-433.75 1554.75,-433.75 1548.75,-433.75 1542.75,-427.75 1542.75,-421.75 1542.75,-421.75 1542.75,-304.75 1542.75,-304.75 1542.75,-298.75 1548.75,-292.75 1554.75,-292.75 1554.75,-292.75 1807.25,-292.75 1807.25,-292.75 1813.25,-292.75 1819.25,-298.75 1819.25,-304.75 1819.25,-304.75 1819.25,-421.75 1819.25,-421.75 1819.25,-427.75 1813.25,-433.75 1807.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="1623.25" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Live Store Zone&#45;B</text>
<text xml:space="preserve" text-anchor="start" x="1552.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1623.25" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Real&#45;time queries</text>
<text xml:space="preserve" text-anchor="start" x="1627.38" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Kafka consumer</text>
<text xml:space="preserve" text-anchor="start" x="1623.25" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">• In&#45;memory traces</text>
<text xml:space="preserve" text-anchor="start" x="1552.75" y="-319.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1646.5" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: N</text>
</g>
<!-- kafka_tempo&#45;&gt;livestore_b -->
<g id="edge12" class="edge">
<title>kafka_tempo&#45;&gt;livestore_b</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1487.25,-529.56C1504.95,-519.04 1522.85,-507.57 1539,-495.75 1560.65,-479.9 1582.61,-461.14 1602.58,-442.83"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="1604.73,-445.61 1609.69,-436.24 1599.97,-440.47 1604.73,-445.61"/>
</g>
<!-- metrics_gen -->
<g id="node14" class="node">
<title>metrics_gen</title>
<path fill="#e1bee7" stroke="black" d="M1512.25,-433.75C1512.25,-433.75 1259.75,-433.75 1259.75,-433.75 1253.75,-433.75 1247.75,-427.75 1247.75,-421.75 1247.75,-421.75 1247.75,-304.75 1247.75,-304.75 1247.75,-298.75 1253.75,-292.75 1259.75,-292.75 1259.75,-292.75 1512.25,-292.75 1512.25,-292.75 1518.25,-292.75 1524.25,-298.75 1524.25,-304.75 1524.25,-304.75 1524.25,-421.75 1524.25,-421.75 1524.25,-427.75 1518.25,-433.75 1512.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="1327.5" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Metrics Generator</text>
<text xml:space="preserve" text-anchor="start" x="1257.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1341.75" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Span metrics</text>
<text xml:space="preserve" text-anchor="start" x="1336.5" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Service graphs</text>
<text xml:space="preserve" text-anchor="start" x="1343.25" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">• RED metrics</text>
<text xml:space="preserve" text-anchor="start" x="1257.75" y="-319.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1348.5" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 3+</text>
</g>
<!-- kafka_tempo&#45;&gt;metrics_gen -->
<g id="edge13" class="edge">
<title>kafka_tempo&#45;&gt;metrics_gen</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1386,-525.63C1386,-501.5 1386,-472.95 1386,-446.62"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="1389.5,-446.93 1386,-436.93 1382.5,-446.93 1389.5,-446.93"/>
</g>
<!-- tempodb -->
<g id="node17" class="node">
<title>tempodb</title>
<path fill="#b0bec5" stroke="black" d="M2248.75,-218.25C2248.75,-224.04 2199.56,-228.75 2139,-228.75 2078.44,-228.75 2029.25,-224.04 2029.25,-218.25 2029.25,-218.25 2029.25,-123.75 2029.25,-123.75 2029.25,-117.96 2078.44,-113.25 2139,-113.25 2199.56,-113.25 2248.75,-117.96 2248.75,-123.75 2248.75,-123.75 2248.75,-218.25 2248.75,-218.25"/>
<path fill="none" stroke="black" d="M2248.75,-218.25C2248.75,-212.46 2199.56,-207.75 2139,-207.75 2078.44,-207.75 2029.25,-212.46 2029.25,-218.25"/>
<text xml:space="preserve" text-anchor="start" x="2106.75" y="-194.7" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">TempoDB</text>
<text xml:space="preserve" text-anchor="start" x="2039.25" y="-174.7" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2076" y="-155.7" font-family="Helvetica,sans-Serif" font-size="14.00">• Block management</text>
<text xml:space="preserve" text-anchor="start" x="2119.88" y="-136.7" font-family="Helvetica,sans-Serif" font-size="14.00">• WAL</text>
</g>
<!-- block_builder&#45;&gt;tempodb -->
<g id="edge14" class="edge">
<title>block_builder&#45;&gt;tempodb</title>
<path fill="none" stroke="#388e3c" stroke-width="2" d="M1197.6,-292.31C1210.24,-286.32 1223.18,-280.95 1236,-276.75 1378.01,-230.2 1804.08,-195.2 2016.22,-180.13"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="2" points="2016.2,-183.64 2025.93,-179.45 2015.71,-176.66 2016.2,-183.64"/>
</g>
<!-- querier -->
<g id="node16" class="node">
<title>querier</title>
<path fill="#b39ddb" stroke="black" d="M1885.25,-644.75C1885.25,-644.75 1632.75,-644.75 1632.75,-644.75 1626.75,-644.75 1620.75,-638.75 1620.75,-632.75 1620.75,-632.75 1620.75,-534.75 1620.75,-534.75 1620.75,-528.75 1626.75,-522.75 1632.75,-522.75 1632.75,-522.75 1885.25,-522.75 1885.25,-522.75 1891.25,-522.75 1897.25,-528.75 1897.25,-534.75 1897.25,-534.75 1897.25,-632.75 1897.25,-632.75 1897.25,-638.75 1891.25,-644.75 1885.25,-644.75"/>
<text xml:space="preserve" text-anchor="start" x="1734.62" y="-626.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Querier</text>
<text xml:space="preserve" text-anchor="start" x="1630.75" y="-606.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1697.12" y="-587.45" font-family="Helvetica,sans-Serif" font-size="14.00">• TraceQL execution</text>
<text xml:space="preserve" text-anchor="start" x="1700.88" y="-568.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Multi&#45;source fetch</text>
<text xml:space="preserve" text-anchor="start" x="1630.75" y="-549.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1725.62" y="-530.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 5</text>
</g>
<!-- query_frontend&#45;&gt;querier -->
<g id="edge19" class="edge">
<title>query_frontend&#45;&gt;querier</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M1759,-681.6C1759,-673.84 1759,-665.91 1759,-658.11"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="1762.5,-658.15 1759,-648.15 1755.5,-658.15 1762.5,-658.15"/>
</g>
<!-- cache -->
<g id="node22" class="node">
<title>cache</title>
<path fill="#e0e0e0" stroke="black" d="M2140.75,-631C2140.75,-636.79 2091.56,-641.5 2031,-641.5 1970.44,-641.5 1921.25,-636.79 1921.25,-631 1921.25,-631 1921.25,-536.5 1921.25,-536.5 1921.25,-530.71 1970.44,-526 2031,-526 2091.56,-526 2140.75,-530.71 2140.75,-536.5 2140.75,-536.5 2140.75,-631 2140.75,-631"/>
<path fill="none" stroke="black" d="M2140.75,-631C2140.75,-625.21 2091.56,-620.5 2031,-620.5 1970.44,-620.5 1921.25,-625.21 1921.25,-631"/>
<text xml:space="preserve" text-anchor="start" x="2010.75" y="-607.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Cache</text>
<text xml:space="preserve" text-anchor="start" x="1969.88" y="-587.45" font-family="Helvetica,sans-Serif" font-size="14.00">(Redis/Memcached)</text>
<text xml:space="preserve" text-anchor="start" x="1931.25" y="-568.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="1997.62" y="-549.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 3</text>
</g>
<!-- query_frontend&#45;&gt;cache -->
<g id="edge18" class="edge">
<title>query_frontend&#45;&gt;cache</title>
<path fill="none" stroke="#7b1fa2" d="M1882.97,-675.37C1899.71,-665.12 1916.69,-654.72 1932.9,-644.8"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" points="1881.16,-672.37 1874.46,-680.57 1884.82,-678.34 1881.16,-672.37"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" points="1934.35,-648.02 1941.05,-639.81 1930.7,-642.05 1934.35,-648.02"/>
</g>
<!-- querier&#45;&gt;livestore_a -->
<g id="edge20" class="edge">
<title>querier&#45;&gt;livestore_a</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M1818.87,-522.47C1843.22,-497.95 1871.69,-469.28 1897.66,-443.13"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="1900.04,-445.71 1904.6,-436.14 1895.07,-440.77 1900.04,-445.71"/>
</g>
<!-- querier&#45;&gt;livestore_b -->
<g id="edge21" class="edge">
<title>querier&#45;&gt;livestore_b</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M1737.48,-522.47C1729.07,-498.91 1719.29,-471.52 1710.26,-446.22"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="1713.57,-445.09 1706.92,-436.85 1706.98,-447.44 1713.57,-445.09"/>
</g>
<!-- querier&#45;&gt;tempodb -->
<g id="edge22" class="edge">
<title>querier&#45;&gt;tempodb</title>
<path fill="none" stroke="#7b1fa2" stroke-width="2" d="M1884.32,-522.28C1892.57,-519.44 1900.84,-516.89 1909,-514.75 1955.82,-502.47 2092.59,-530.78 2126,-495.75 2143.09,-477.83 2142.82,-331.38 2140.99,-241.7"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="2" points="2144.49,-241.85 2140.77,-231.93 2137.49,-242.01 2144.49,-241.85"/>
</g>
<!-- object_storage -->
<g id="node18" class="node">
<title>object_storage</title>
<path fill="#90a4ae" stroke="black" d="M2203.62,-71.5C2203.62,-74.12 2174.66,-76.25 2139,-76.25 2103.34,-76.25 2074.38,-74.12 2074.38,-71.5 2074.38,-71.5 2074.38,-28.75 2074.38,-28.75 2074.38,-26.13 2103.34,-24 2139,-24 2174.66,-24 2203.62,-26.13 2203.62,-28.75 2203.62,-28.75 2203.62,-71.5 2203.62,-71.5"/>
<path fill="none" stroke="black" d="M2203.62,-71.5C2203.62,-68.88 2174.66,-66.75 2139,-66.75 2103.34,-66.75 2074.38,-68.88 2074.38,-71.5"/>
<text xml:space="preserve" text-anchor="middle" x="2139" y="-51.83" font-family="Helvetica,sans-Serif" font-size="14.00">Object Storage</text>
<text xml:space="preserve" text-anchor="middle" x="2139" y="-36.83" font-family="Helvetica,sans-Serif" font-size="14.00">(S3 / GCS / Azure)</text>
</g>
<!-- tempodb&#45;&gt;object_storage -->
<g id="edge15" class="edge">
<title>tempodb&#45;&gt;object_storage</title>
<path fill="none" stroke="#616161" stroke-width="2" d="M2139,-113C2139,-105.03 2139,-97 2139,-89.49"/>
<polygon fill="#616161" stroke="#616161" stroke-width="2" points="2142.5,-89.68 2139,-79.68 2135.5,-89.68 2142.5,-89.68"/>
</g>
<!-- backend_scheduler -->
<g id="node19" class="node">
<title>backend_scheduler</title>
<path fill="#ffcc80" stroke="black" d="M2422.25,-433.75C2422.25,-433.75 2169.75,-433.75 2169.75,-433.75 2163.75,-433.75 2157.75,-427.75 2157.75,-421.75 2157.75,-421.75 2157.75,-304.75 2157.75,-304.75 2157.75,-298.75 2163.75,-292.75 2169.75,-292.75 2169.75,-292.75 2422.25,-292.75 2422.25,-292.75 2428.25,-292.75 2434.25,-298.75 2434.25,-304.75 2434.25,-304.75 2434.25,-421.75 2434.25,-421.75 2434.25,-427.75 2428.25,-433.75 2422.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="2233.38" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Backend Scheduler</text>
<text xml:space="preserve" text-anchor="start" x="2167.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2241.62" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Work scheduling</text>
<text xml:space="preserve" text-anchor="start" x="2242" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Job coordination</text>
<text xml:space="preserve" text-anchor="start" x="2167.75" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2260.38" y="-320.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00" fill="red">Replicas: 1</text>
<text xml:space="preserve" text-anchor="start" x="2264.5" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="red">(singleton)</text>
</g>
<!-- backend_worker -->
<g id="node20" class="node">
<title>backend_worker</title>
<path fill="#ffcc80" stroke="black" d="M2734.25,-424.25C2734.25,-424.25 2481.75,-424.25 2481.75,-424.25 2475.75,-424.25 2469.75,-418.25 2469.75,-412.25 2469.75,-412.25 2469.75,-314.25 2469.75,-314.25 2469.75,-308.25 2475.75,-302.25 2481.75,-302.25 2481.75,-302.25 2734.25,-302.25 2734.25,-302.25 2740.25,-302.25 2746.25,-308.25 2746.25,-314.25 2746.25,-314.25 2746.25,-412.25 2746.25,-412.25 2746.25,-418.25 2740.25,-424.25 2734.25,-424.25"/>
<text xml:space="preserve" text-anchor="start" x="2554.75" y="-405.95" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Backend Worker</text>
<text xml:space="preserve" text-anchor="start" x="2479.75" y="-385.95" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2561.88" y="-366.95" font-family="Helvetica,sans-Serif" font-size="14.00">• Job execution</text>
<text xml:space="preserve" text-anchor="start" x="2545.75" y="-347.95" font-family="Helvetica,sans-Serif" font-size="14.00">• Tenant index writes</text>
<text xml:space="preserve" text-anchor="start" x="2479.75" y="-328.95" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2570.5" y="-309.95" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 2+</text>
</g>
<!-- backend_scheduler&#45;&gt;backend_worker -->
<g id="edge23" class="edge">
<title>backend_scheduler&#45;&gt;backend_worker</title>
<path fill="none" stroke="#f57c00" stroke-width="2" d="M2434.63,-363.25C2441.99,-363.25 2449.35,-363.25 2456.7,-363.25"/>
<polygon fill="#f57c00" stroke="#f57c00" stroke-width="2" points="2456.48,-366.75 2466.48,-363.25 2456.48,-359.75 2456.48,-366.75"/>
</g>
<!-- compactor -->
<g id="node21" class="node">
<title>compactor</title>
<path fill="#ffcc80" stroke="black" d="M3046.25,-433.75C3046.25,-433.75 2793.75,-433.75 2793.75,-433.75 2787.75,-433.75 2781.75,-427.75 2781.75,-421.75 2781.75,-421.75 2781.75,-304.75 2781.75,-304.75 2781.75,-298.75 2787.75,-292.75 2793.75,-292.75 2793.75,-292.75 3046.25,-292.75 3046.25,-292.75 3052.25,-292.75 3058.25,-298.75 3058.25,-304.75 3058.25,-304.75 3058.25,-421.75 3058.25,-421.75 3058.25,-427.75 3052.25,-433.75 3046.25,-433.75"/>
<text xml:space="preserve" text-anchor="start" x="2884" y="-415.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Compactor</text>
<text xml:space="preserve" text-anchor="start" x="2791.75" y="-395.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2872.38" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Block merging</text>
<text xml:space="preserve" text-anchor="start" x="2846.88" y="-357.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Retention enforcement</text>
<text xml:space="preserve" text-anchor="start" x="2874.62" y="-338.45" font-family="Helvetica,sans-Serif" font-size="14.00">• Deduplication</text>
<text xml:space="preserve" text-anchor="start" x="2791.75" y="-319.45" font-family="Helvetica,sans-Serif" font-size="14.00">━━━━━━━━━━━━━━━━━━</text>
<text xml:space="preserve" text-anchor="start" x="2886.62" y="-300.45" font-family="Helvetica,sans-Serif" font-size="14.00" fill="blue">Replicas: 5</text>
</g>
<!-- backend_worker&#45;&gt;compactor -->
<g id="edge24" class="edge">
<title>backend_worker&#45;&gt;compactor</title>
<path fill="none" stroke="#f57c00" stroke-width="2" d="M2746.63,-363.25C2753.99,-363.25 2761.35,-363.25 2768.7,-363.25"/>
<polygon fill="#f57c00" stroke="#f57c00" stroke-width="2" points="2768.48,-366.75 2778.48,-363.25 2768.48,-359.75 2768.48,-366.75"/>
</g>
<!-- compactor&#45;&gt;tempodb -->
<g id="edge25" class="edge">
<title>compactor&#45;&gt;tempodb</title>
<path fill="none" stroke="#f57c00" stroke-width="2" d="M2794.72,-292.33C2781.55,-286.5 2768.15,-281.16 2755,-276.75 2589.3,-221.24 2388.22,-194.11 2261.89,-181.63"/>
<polygon fill="#f57c00" stroke="#f57c00" stroke-width="2" points="2262.45,-178.16 2252.16,-180.68 2261.78,-185.13 2262.45,-178.16"/>
</g>
<!-- memberlist -->
<g id="node23" class="node">
<title>memberlist</title>
<path fill="#e0e0e0" stroke="black" d="M2087.38,-1419.62C2087.38,-1419.62 1974.62,-1419.62 1974.62,-1419.62 1968.62,-1419.62 1962.62,-1413.62 1962.62,-1407.62 1962.62,-1407.62 1962.62,-1393.62 1962.62,-1393.62 1962.62,-1387.62 1968.62,-1381.62 1974.62,-1381.62 1974.62,-1381.62 2087.38,-1381.62 2087.38,-1381.62 2093.38,-1381.62 2099.38,-1387.62 2099.38,-1393.62 2099.38,-1393.62 2099.38,-1407.62 2099.38,-1407.62 2099.38,-1413.62 2093.38,-1419.62 2087.38,-1419.62"/>
<text xml:space="preserve" text-anchor="middle" x="2031" y="-1402.32" font-family="Helvetica,sans-Serif" font-size="14.00">MemberlistKV</text>
<text xml:space="preserve" text-anchor="middle" x="2031" y="-1387.32" font-family="Helvetica,sans-Serif" font-size="14.00">(Ring Management)</text>
</g>
</g>
</svg>
