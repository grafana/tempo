apiVersion: v1
data:
  tempo.yaml: |
    cache:
        caches:
            - memcached:
                consistent_hash: true
                host: memcached
                max_idle_conns: 100
                max_item_size: 5.24288e+06
                service: memcached-client
                timeout: 200ms
              roles:
                - bloom
            - memcached:
                consistent_hash: true
                host: memcached
                max_idle_conns: 100
                max_item_size: 5.24288e+06
                service: memcached-client
                timeout: 200ms
              roles:
                - trace-id-index
            - memcached:
                consistent_hash: true
                host: memcached
                max_idle_conns: 100
                max_item_size: 5.24288e+06
                service: memcached-client
                timeout: 200ms
              roles:
                - parquet-footer
            - memcached:
                consistent_hash: true
                host: memcached-frontend-search
                max_idle_conns: 100
                max_item_size: 1.048576e+06
                service: memcached-client
                timeout: 50ms
              roles:
                - frontend-search
            - memcached:
                consistent_hash: true
                host: memcached-parquet-page
                max_idle_conns: 100
                max_item_size: 2.097152e+06
                service: memcached-client
                timeout: 200ms
              roles:
                - parquet-page
    compactor: {}
    distributor: {}
    http_api_prefix: ""
    ingester:
        lifecycler:
            ring:
                replication_factor: 3
    memberlist:
        abort_if_cluster_join_fails: false
        bind_port: 7946
        join_members:
            - dns+gossip-ring.tracing.svc.cluster.local.:7946
    overrides:
        per_tenant_override_config: /overrides/overrides.yaml
    server:
        http_listen_port: 3200
    storage:
        trace:
            azure:
                container_name: tempo
            backend: gcs
            blocklist_poll: "0"
            gcs:
                bucket_name: tempo
                chunk_buffer_size: 1.048576e+07
            pool:
                queue_depth: 2000
            s3:
                bucket: tempo
            wal:
                path: /var/tempo/wal
kind: ConfigMap
metadata:
  name: tempo-ingester
  namespace: tracing
